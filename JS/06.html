<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // ---------------------------------------------------é—­åŒ…--------------------------------------------------------
        //å†…éƒ¨å‡½æ•°bè¢«ä¿å­˜åˆ°äº†å¤–éƒ¨ å½¢æˆé—­åŒ…ğŸ‘‡
        //è¿™æ—¶å€™bè¢«ä¿å­˜åˆ°äº†å¤–éƒ¨ aæ‰§è¡Œå®Œæƒ³é”€æ¯è‡ªå·±çš„AOå·²ç»é”€æ¯ä¸äº†äº† å› ä¸ºbå·²ç»æ‹¿åˆ°äº†açš„AO
        function a() {
            function b() {
                console.log(num)//123
                num++
            }
            var num = 123
            return b//bè¢«è¿”å›å» ä¿å­˜åœ¨å¤–éƒ¨äº†
        }
        var demo = a()//demo()ç°åœ¨å°±æ˜¯ b 
        demo()//124
        demo()//125

        //é—­åŒ…ä¼šå¯¼è‡´ä½œç”¨åŸŸé“¾ä¸é‡Šæ”¾ é€ æˆå†…å­˜æ³„æ¼
        //é—­åŒ…çš„ä½œç”¨
        //1.å®ç°å…¬æœ‰å˜é‡ eg:å‡½æ•°ç´¯åŠ å™¨
        function add() {
            var count = 0
            function demo() {
                count++
                console.log(count)
            }
            return demo
        }
        var counter = add()
        counter()
        //2.é—­åŒ…å¯ä»¥åšç¼“å­˜ ï¼ˆå­˜å‚¨ç»“æ„ï¼‰
        //a()å’Œb()å…±ç”¨ä¸€ä¸ªtest()çš„AO
        function test() {
            var num = 100
            function a() {
                num++
                console.log(num)//101
            }
            function b() {
                num--
                console.log(num)//100
            }
            return [a, b]
        }
        var myArr = test()
        myArr[0]()
        myArr[1]()
        //foodç¼“å­˜ä¸‹æ¥ åšäº†å­˜å‚¨ç»“æ„
        function eater() {
            var food = ""
            var obj = {
                eat: function () {
                    console.log(food)//apple
                    food = ""
                },
                push: function (myFood) {
                    food = myFood
                }
            }
            return obj
        }
        var eater1 = eater()
        eater1.push('apple')
        eater1.eat()

        // -------------------------------------------------------ç«‹å³æ‰§è¡Œå‡½æ•°-----------------------------------------------------
        //é’ˆå¯¹åˆå§‹åŒ–åŠŸèƒ½çš„å‡½æ•°
        var num = (function (a, b, c) {
            var d = a + b + c
            return d
        }(1, 2, 3))

        //åªæœ‰è¡¨è¾¾å¼æ‰èƒ½è¢«æ‰§è¡Œç¬¦å·æ‰§è¡Œ

        // function d(){
        //     var a = 123
        // }()//è¿™ç§æƒ…å†µä¼šæŠ¥é”™ è¯­æ³•è§£æé”™è¯¯

        //è¿™ç§å½¢å¼ä¸æŠ¥é”™ä¹Ÿä¸ä¼šæ‰§è¡Œ 
        function d(a, b, c, d) {
            console.log(a + b + c + d)
        } (1, 2, 3, 4)//ç³»ç»Ÿå¹¶æ²¡æœ‰æŠŠè¿™ä¸ªæ‹¬å·ç†è§£ä¸ºæ‰§è¡Œç¬¦å· è€Œåªæ˜¯å•çº¯çš„è¡¨è¾¾å¼

        //è¿™ç§è¡¨è¾¾å¼å½¢å¼ å¯ä»¥è¢«æ‰§è¡Œç¬¦å·æ‰§è¡Œ
        var d = function () {
            console.log('a')//a
        }()

        //èƒ½è¢«æ‰§è¡Œå‡½æ•°æ‰§è¡Œçš„è¡¨è¾¾å¼ é‚£ä¹ˆä»–çš„åå­—ä¼šè¢«è‡ªåŠ¨å¿½ç•¥

        function test() {
            var arr = []
            for (var i = 0; i < 10; i++) {
                arr[i] = function () {
                    console.log(i)//æ‰“å°10æ¬¡10
                }
            }
            return arr
        }
        var myArr = test()
        for (var j = 0; j < 10; j++) {
            myArr[j]()
        }

        //è§£å†³ğŸ‘‡
        function test() {
            var arr = []
            for (var i = 0; i < 10; i++) {
                (function (j) {
                    arr[j] = function () {
                        console.log(j)//12345678910
                    }
                }(i))
            }
            return arr
        }
        var myArr = text()
        for (var j = 0; j < 10; j++) {
            myArr[j]()
        }

        //å†™ä¸€ä¸ªæ–¹æ³• æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­—èŠ‚é•¿åº¦ å­—ç¬¦ä¸²æœ‰ä¸€ä¸ªæ–¹æ³• charCodeAt() ä¸€ä¸ªä¸­æ–‡å ä¸¤ä¸ªå­—èŠ‚ ä¸€ä¸ªè‹±æ–‡å ä¸€ä¸ªå­—èŠ‚
        //charCodeAt() æ–¹æ³•å¯è¿”å›æŒ‡å®šä½ç½®çš„å­—ç¬¦çš„ Unicode ç¼–ç ã€‚è¿™ä¸ªè¿”å›å€¼æ˜¯ 0 - 65535 ä¹‹é—´çš„æ•´æ•°ã€‚å½“è¿”å›å€¼å°äºç­‰äº255æ—¶ ä¸ºè‹±æ–‡ å½“è¿”å›å€¼å¤§äº255æ—¶ä¸ºä¸­æ–‡
        function retByteslen(target) {
            var count = 0
            for (var i = 0; i < target.length; i++) {
                if (target.charCodeAt(i) <= 255) {
                    count++
                } else if (target.charCodeAt(i) > 255) {
                    count += 2
                }
            }
        }

        //ç®€åŒ–ğŸ‘‡
        function retByteslen(target) {
            var count,
                len;
            count = len = target.length
            for (var i = 0; i < len; i++) {
                if (target.charCodeAt(i) > 255) {
                    count++
                }
            }
        }

        //é€—å·è¿ç®—ç¬¦ å…ˆè¿ç®—å‰é¢çš„è¡¨è¾¾å¼ å†è¿ç®—åé¢çš„è¡¨è¾¾å¼ ç„¶åæŠŠåé¢è¡¨è¾¾å¼çš„ç»“æœè¿”å›å»
        let a = (1 - 1, 1 + 1)
        console.log(a)//2

        var f = (
            function f() {
                return "1"
            },
            function g() {
                return 2
            }
        )()
        console.log(typeof f)//number


        var x = 1
        if (function f() { }) {//å‡½æ•°æ”¾åœ¨æ‹¬å·é‡Œé¢ æ‹¬å·ä¼šå°†å‡½æ•°å˜æˆè¡¨è¾¾å¼ è¿™æ—¶function()æ¶ˆå¤±
            x += typeof f//ä»»ä½•å˜é‡æœªç»å£°æ˜å°±ä½¿ç”¨è‚¯å®šä¼šæŠ¥é”™(ä»»ä½•å¯¹è±¡çš„å±æ€§æœªç»å£°æ˜å°±ä½¿ç”¨ ä¸ä¼šæŠ¥é”™ ä¼šè¿”å›undefined)  ä½†æ˜¯å°†å…¶æ”¾åœ¨typeofä¸­ å°±ä¸ä¼š åªä¼šè¿”å›å­—ç¬¦ä¸²ç±»å‹çš„undefined è¿™æ—¶åŠ 1åªä¼šè¿”å›æ‹¼æ¥åçš„å­—ç¬¦ä¸²
        }
        console.log(x)//1undefined
    </script>
</body>

</html>